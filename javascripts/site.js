function lastFM_request(){var e=new XMLHttpRequest,t=document;e.open("GET","https://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=paul_r_schaefer&api_key=0f680404e39c821cac34008cc4d803db&limit=1&format=json",!0),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var n=JSON.parse(e.responseText),a=n.recenttracks.track[0],r=a.artist["#text"],s=a.album["#text"],l=a.name,i=a.url,c=a.image[1]["#text"],d=t.getElementById("cover");""!==c?(d.src=c,d.alt=s,d.title=s):(d.src="img/no-cover.png",d.alt="No Cover"),t.getElementById("recenttracks").innerHTML='<a href="'+i+'" title="on '+s+'">'+r+" &mdash; "+l+"</a>",t.getElementById("since").style.visibility="visible",t.getElementById("number").innerHTML=parseInt(n.recenttracks["@attr"].total).toLocaleString(),a["@attr"]&&""!==a["@attr"].nowplaying?(t.getElementById("state").innerHTML="I am currently listening to:<br/>",t.getElementById("nowplaying").style.display="inline-block"):(t.getElementById("state").innerHTML="I last listened to:<br/>",t.getElementById("nowplaying").style.display="none")}else t.getElementById("recenttracks").innerHTML="Nothing, apparently. The connection to Last.fm failed."},e.send(null)}var days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];document.getElementById("day").innerHTML=days[(new Date).getDay()],setInterval(function(){lastFM_request()},6e4),lastFM_request();